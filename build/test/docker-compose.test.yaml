services:
  test_app:
    build:
      context: ../../
      dockerfile: build/test/Dockerfile
    environment:
      - SECRET_KEY=value
      - JWT_TOKEN_EXPIRE_TIME=2222
    volumes:
      - ../../:/app
    depends_on:
      - test_database

  test_database:
    image: postgres:17.5-alpine
    environment:
      - POSTGRES_DB=test_database
      - POSTGRES_USER=test_user
      - POSTGRES_PASSWORD=test_password